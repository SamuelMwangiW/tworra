import{d as g,p as L,o as v,e as w,u as B,c as x,w as i,a as l,b as o,v as k,x as V,I as j,m as y,f as b,g as s,L as A,n as E,i as f,y as F}from"./app.ec27faf6.js";import{_ as R}from"./Button.9a34b572.js";import{_ as z}from"./FormSection.935e10da.js";import{a as d,_}from"./InputError.85d88abd.js";import{_ as p}from"./Label.e46cd221.js";import{_ as D}from"./ActionMessage.0fd77d24.js";import{_ as S}from"./SecondaryButton.fcda6cb3.js";import"./SectionTitle.10be27f7.js";import"./_plugin-vue_export-helper.cdc0426e.js";const T=["value"],M={__name:"Textarea",props:{modelValue:String},emits:["update:modelValue"],setup(c,{expose:u}){const e=g(null);return L(()=>{e.value.hasAttribute("autofocus")&&e.value.focus()}),u({focus:()=>e.value.focus()}),(h,m)=>(v(),w("textarea",{ref_key:"input",ref:e,class:"border-gray-300 dark:bg-neutral-700 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm resize-none",value:c.modelValue,onInput:m[0]||(m[0]=n=>h.$emit("update:modelValue",n.target.value))},null,40,T))}},O=f(" Profile Information "),Y=f(" Update your account's profile information and email address. "),q={key:0,class:"col-span-6 sm:col-span-4"},G={class:"mt-2"},H=["src","alt"],J={class:"mt-2"},K=f(" Select A New Photo "),Q=f(" Remove Photo "),W={class:"col-span-6 sm:col-span-4"},X={class:"col-span-6 sm:col-span-4"},Z={class:"col-span-6 sm:col-span-4"},ee={key:0},oe={class:"text-sm mt-2"},se=l("span",null,"Your email address is unverified.",-1),te=f(" Click here to re-send the verification email. "),le={class:"mt-2 font-medium text-sm text-green-600"},ae={class:"col-span-6 sm:col-span-4"},ne={class:"col-span-6 sm:col-span-4"},re={class:"col-span-6 sm:col-span-4"},ie=f(" Saved. "),ue=f(" Save "),ke={__name:"UpdateProfileInformationForm",props:{user:Object},setup(c){const u=c,e=B({_method:"PUT",name:u.user.name,email:u.user.email,username:u.user.username,url:u.user.url,location:u.user.location,description:u.user.description,photo:null}),h=g(null),m=g(null),n=g(null),U=()=>{n.value&&(e.photo=n.value.files[0]),e.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>P()})},$=()=>{h.value=!0},C=()=>{n.value.click()},I=()=>{const r=n.value.files[0];if(!r)return;const t=new FileReader;t.onload=a=>{m.value=a.target.result},t.readAsDataURL(r)},N=()=>{F.Inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{m.value=null,P()}})},P=()=>{var r;(r=n.value)!=null&&r.value&&(n.value.value=null)};return(r,t)=>(v(),x(z,{onSubmitted:U},{title:i(()=>[O]),description:i(()=>[Y]),form:i(()=>[r.$page.props.jetstream.managesProfilePhotos?(v(),w("div",q,[l("input",{ref_key:"photoInput",ref:n,type:"file",class:"hidden",onChange:I},null,544),o(p,{for:"photo",value:"Photo"}),k(l("div",G,[l("img",{src:c.user.profile_photo_url,alt:c.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,H)],512),[[V,!m.value]]),k(l("div",J,[l("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:j("background-image: url('"+m.value+"');")},null,4)],512),[[V,m.value]]),o(S,{class:"mt-2 mr-2",type:"button",onClick:y(C,["prevent"])},{default:i(()=>[K]),_:1},8,["onClick"]),c.user.profile_photo_path?(v(),x(S,{key:0,type:"button",class:"mt-2",onClick:y(N,["prevent"])},{default:i(()=>[Q]),_:1},8,["onClick"])):b("",!0),o(d,{message:s(e).errors.photo,class:"mt-2"},null,8,["message"])])):b("",!0),l("div",W,[o(p,{for:"name",value:"Name"}),o(_,{id:"name",modelValue:s(e).name,"onUpdate:modelValue":t[0]||(t[0]=a=>s(e).name=a),type:"text",class:"mt-1 block w-full",autocomplete:"name"},null,8,["modelValue"]),o(d,{message:s(e).errors.name,class:"mt-2"},null,8,["message"])]),l("div",X,[o(p,{for:"username",value:"Username"}),o(_,{id:"username",modelValue:s(e).username,"onUpdate:modelValue":t[1]||(t[1]=a=>s(e).username=a),type:"text",class:"mt-1 block w-full",autocomplete:"username"},null,8,["modelValue"]),o(d,{message:s(e).errors.username,class:"mt-2"},null,8,["message"])]),l("div",Z,[o(p,{for:"email",value:"Email"}),o(_,{id:"email",modelValue:s(e).email,"onUpdate:modelValue":t[2]||(t[2]=a=>s(e).email=a),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"]),o(d,{message:s(e).errors.email,class:"mt-2"},null,8,["message"]),r.$page.props.jetstream.hasEmailVerification&&c.user.email_verified_at===null?(v(),w("div",ee,[l("p",oe,[se,o(s(A),{href:r.route("verification.send"),method:"post",as:"button",class:"underline text-gray-600 hover:text-gray-900",onClick:y($,["prevent"])},{default:i(()=>[te]),_:1},8,["href","onClick"])]),k(l("div",le," A new verification link has been sent to your email address. ",512),[[V,h.value]])])):b("",!0)]),l("div",ae,[o(p,{for:"url",value:"URL"}),o(_,{id:"url",modelValue:s(e).url,"onUpdate:modelValue":t[3]||(t[3]=a=>s(e).url=a),type:"text",class:"mt-1 block w-full",autocomplete:"url"},null,8,["modelValue"]),o(d,{message:s(e).errors.url,class:"mt-2"},null,8,["message"])]),l("div",ne,[o(p,{for:"location",value:"Location"}),o(_,{id:"location",modelValue:s(e).location,"onUpdate:modelValue":t[4]||(t[4]=a=>s(e).location=a),type:"text",class:"mt-1 block w-full",autocomplete:"location"},null,8,["modelValue"]),o(d,{message:s(e).errors.location,class:"mt-2"},null,8,["message"])]),l("div",re,[o(p,{for:"description",value:"Description"}),o(M,{id:"description",modelValue:s(e).description,"onUpdate:modelValue":t[5]||(t[5]=a=>s(e).description=a),type:"text",class:"mt-1 block w-full",autocomplete:"description"},null,8,["modelValue"]),o(d,{message:s(e).errors.description,class:"mt-2"},null,8,["message"])])]),actions:i(()=>[o(D,{on:s(e).recentlySuccessful,class:"mr-3"},{default:i(()=>[ie]),_:1},8,["on"]),o(R,{class:E({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:i(()=>[ue]),_:1},8,["class","disabled"])]),_:1}))}};export{ke as default};
