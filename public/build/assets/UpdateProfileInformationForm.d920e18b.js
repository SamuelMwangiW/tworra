import{u as B,d as h,o as d,c as V,w as n,e as S,a as t,b as s,v,x as g,I as j,m as k,f as y,g as o,L as E,n as F,i as m,y as L}from"./app.cd3ed65b.js";import{_ as A}from"./Button.e101e754.js";import{_ as R}from"./FormSection.bf2f567d.js";import{a as p,_ as b}from"./InputError.49a7c179.js";import{_ as f}from"./Label.833d6e50.js";import{_ as z}from"./ActionMessage.5f6c4bc5.js";import{_ as C}from"./SecondaryButton.a908f6c4.js";import"./SectionTitle.cffe7037.js";import"./_plugin-vue_export-helper.cdc0426e.js";const D=m(" Profile Information "),T=m(" Update your account's profile information and email address. "),M={key:0,class:"col-span-6 sm:col-span-4"},O={class:"mt-2"},Y=["src","alt"],q={class:"mt-2"},G=m(" Select A New Photo "),H=m(" Remove Photo "),J={class:"col-span-6 sm:col-span-4"},K={class:"col-span-6 sm:col-span-4"},Q={class:"col-span-6 sm:col-span-4"},W={key:0},X={class:"text-sm mt-2"},Z=t("span",null,"Your email address is unverified.",-1),ee=m(" Click here to re-send the verification email. "),se={class:"mt-2 font-medium text-sm text-green-600"},oe=m(" Saved. "),te=m(" Save "),pe={__name:"UpdateProfileInformationForm",props:{user:Object},setup(u){const _=u,e=B({_method:"PUT",name:_.user.name,email:_.user.email,username:_.user.username,photo:null}),w=h(null),c=h(null),r=h(null),x=()=>{r.value&&(e.photo=r.value.files[0]),e.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>P()})},I=()=>{w.value=!0},$=()=>{r.value.click()},U=()=>{const a=r.value.files[0];if(!a)return;const l=new FileReader;l.onload=i=>{c.value=i.target.result},l.readAsDataURL(a)},N=()=>{L.Inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{c.value=null,P()}})},P=()=>{var a;(a=r.value)!=null&&a.value&&(r.value.value=null)};return(a,l)=>(d(),V(R,{onSubmitted:x},{title:n(()=>[D]),description:n(()=>[T]),form:n(()=>[a.$page.props.jetstream.managesProfilePhotos?(d(),S("div",M,[t("input",{ref_key:"photoInput",ref:r,type:"file",class:"hidden",onChange:U},null,544),s(f,{for:"photo",value:"Photo"}),v(t("div",O,[t("img",{src:u.user.profile_photo_url,alt:u.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,Y)],512),[[g,!c.value]]),v(t("div",q,[t("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:j("background-image: url('"+c.value+"');")},null,4)],512),[[g,c.value]]),s(C,{class:"mt-2 mr-2",type:"button",onClick:k($,["prevent"])},{default:n(()=>[G]),_:1},8,["onClick"]),u.user.profile_photo_path?(d(),V(C,{key:0,type:"button",class:"mt-2",onClick:k(N,["prevent"])},{default:n(()=>[H]),_:1},8,["onClick"])):y("",!0),s(p,{message:o(e).errors.photo,class:"mt-2"},null,8,["message"])])):y("",!0),t("div",J,[s(f,{for:"name",value:"Name"}),s(b,{id:"name",modelValue:o(e).name,"onUpdate:modelValue":l[0]||(l[0]=i=>o(e).name=i),type:"text",class:"mt-1 block w-full",autocomplete:"name"},null,8,["modelValue"]),s(p,{message:o(e).errors.name,class:"mt-2"},null,8,["message"])]),t("div",K,[s(f,{for:"username",value:"Username"}),s(b,{id:"username",modelValue:o(e).username,"onUpdate:modelValue":l[1]||(l[1]=i=>o(e).username=i),type:"text",class:"mt-1 block w-full",autocomplete:"username"},null,8,["modelValue"]),s(p,{message:o(e).errors.username,class:"mt-2"},null,8,["message"])]),t("div",Q,[s(f,{for:"email",value:"Email"}),s(b,{id:"email",modelValue:o(e).email,"onUpdate:modelValue":l[2]||(l[2]=i=>o(e).email=i),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"]),s(p,{message:o(e).errors.email,class:"mt-2"},null,8,["message"]),a.$page.props.jetstream.hasEmailVerification&&u.user.email_verified_at===null?(d(),S("div",W,[t("p",X,[Z,s(o(E),{href:a.route("verification.send"),method:"post",as:"button",class:"underline text-gray-600 hover:text-gray-900",onClick:k(I,["prevent"])},{default:n(()=>[ee]),_:1},8,["href","onClick"])]),v(t("div",se," A new verification link has been sent to your email address. ",512),[[g,w.value]])])):y("",!0)])]),actions:n(()=>[s(z,{on:o(e).recentlySuccessful,class:"mr-3"},{default:n(()=>[oe]),_:1},8,["on"]),s(A,{class:F({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:n(()=>[te]),_:1},8,["class","disabled"])]),_:1}))}};export{pe as default};
